Task: City Analysis

Identify the city with the highest number
of restaurants in the dataset.

Calculate the average rating for
restaurants in each city.

Determine the city with the highest
average rating.

Python:- 

# Level 1: Task 2-City Analysis

##Import Libraries

import pandas as pd
import matplotlib.pyplot as plt

file_path = '/content/Dataset .csv'
data = pd.read_csv(file_path)

## Print the Dataset

print(data.head())

# To Find the City with the Most Restaurants

city_counts = data['City'].value_counts()
print(city_counts.head(1))

## Visualizing the top 10 cities

top_cities = city_counts.head(10)
top_cities.plot(kind='bar', color='skyblue', figsize=(10, 5))
plt.title('Top 10 Cities with the Most Restaurants')
plt.xlabel('City')
plt.ylabel('Number of Restaurants')
plt.xticks(rotation=45)
plt.show()

# To Calculate the Average Rating for Each City

avg_rating_per_city = data.groupby('City')['Aggregate rating'].mean()
print(avg_rating_per_city)

avg_Votes_per_city = data.groupby('City')['Votes'].mean()
print(avg_Votes_per_city)

## City with avg highest rating


highest_avg_rating_city = avg_rating_per_city.idxmax()
highest_avg_rating_value = avg_rating_per_city.max()
print(f"City with the Highest Average Rating: {highest_avg_rating_city} ({highest_avg_rating_value})")

## the top 10 cities by average rating

top_city_avg_ratings = avg_rating_per_city[top_cities.index]
top_city_avg_ratings.plot(kind='bar', color='green', figsize=(15, 5))
plt.title('Average Ratings of Top 10 Cities')
plt.xlabel('City')
plt.ylabel('Average Rating')
plt.xticks(rotation=45)
plt.show()

##city with the highest average rating

import matplotlib.pyplot as plt
highest_avg_rating_city = avg_rating_per_city.idxmax()
highest_avg_rating_value = avg_rating_per_city.max()

avg_rating_sorted = avg_rating_per_city.sort_values(ascending=False)

# bar chart
plt.figure(figsize=(12, 6))
colors = ['orange' if city == highest_avg_rating_city else 'skyblue' for city in avg_rating_sorted.index]

avg_rating_sorted.plot(kind='bar', color=colors, figsize=(12, 6))
plt.title("Average Ratings of Cities", fontsize=16)
plt.xlabel("City", fontsize=12)
plt.ylabel("Average Rating", fontsize=12)
plt.xticks(rotation=45)
plt.axhline(highest_avg_rating_value, color='red', linestyle='--', label=f"Highest Avg Rating: {highest_avg_rating_value:.2f}")
plt.legend()
plt.tight_layout()
plt.show()

results_df = avg_rating_per_city.reset_index()
results_df.columns = ['City', 'Average Rating']
results_df.to_csv('City_Ratings.csv', index=False)
print("Results saved to 'City_Ratings.csv'")

from google.colab import files
files.download('City_Ratings.csv')

Pyscript:- https://colab.research.google.com/drive/1U4hqRxl0FqWW3Zk3ez7EHFCpiLWyL9UM?usp=sharing

